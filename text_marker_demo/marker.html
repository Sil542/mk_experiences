<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Audio Sync Text Highlight Demo</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    padding: 40px;
    background: #f6f6f6;
  }
  #text {
    font-size: 1.5em;
    line-height: 1.8em;
    color: #333;
  }
  .word {
    padding: 2px 4px;
    transition: background-color 0.3s;
  }
  .highlight {
    background-color: #ffeb3b;
  }
</style>
</head>
<body>

<h2>Audio-Text Sync Demo</h2>

<audio id="audio" controls src="sophia-en.wav"></audio>

<p id="text"></p>

<script>
// Example transcript with timing (in seconds)
const transcript = [
  { word: "Test", start: 0.0, end: 0.5 },
  { word: "text", start: 0.5, end: 1.0 },
  { word: "that", start: 1.0, end: 1.4 },
  { word: "makes", start: 1.4, end: 1.7 },
  { word: "a", start: 1.7, end: 1.9 },
  { word: "beautiful", start: 1.9, end: 2.3 },
  { word: "marker", start: 2.3, end: 2.8 },

];

// Render text
const textContainer = document.getElementById("text");
transcript.forEach((item, index) => {
  const span = document.createElement("span");
  span.textContent = item.word + " ";
  span.classList.add("word");
  span.dataset.start = item.start;
  span.dataset.end = item.end;
  textContainer.appendChild(span);
});

const audio = document.getElementById("audio");
const words = document.querySelectorAll(".word");

audio.addEventListener("timeupdate", () => {
  const currentTime = audio.currentTime;
  words.forEach(span => {
    const start = parseFloat(span.dataset.start);
    const end = parseFloat(span.dataset.end);
    span.classList.toggle("highlight", currentTime >= start && currentTime < end);
  });
});
</script>

</body>
</html>

